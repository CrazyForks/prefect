import type { EventTriggerPosture } from "./eventTriggerPosture";
/**
 * Generated by orval v7.5.0 üç∫
 * Do not edit manually.
 * Prefect Prefect REST API
 * OpenAPI spec version: 0.1.0
 */
import type { ResourceSpecification } from "./resourceSpecification";

/**
 * A trigger that fires based on the presence or absence of events within a given
period of time.
 */
export interface EventTrigger {
	type?: "event";
	/** The unique ID of this trigger */
	id?: string;
	/** Labels for resources which this trigger will match. */
	match?: ResourceSpecification;
	/** Labels for related resources which this trigger will match. */
	match_related?: ResourceSpecification;
	/** The event(s) which must first been seen to fire this trigger.  If empty, then fire this trigger immediately.  Events may include trailing wildcards, like `prefect.flow-run.*` */
	after?: string[];
	/** The event(s) this trigger is expecting to see.  If empty, this trigger will match any event.  Events may include trailing wildcards, like `prefect.flow-run.*` */
	expect?: string[];
	/** Evaluate the trigger separately for each distinct value of these labels on the resource.  By default, labels refer to the primary resource of the triggering event.  You may also refer to labels from related resources by specifying `related:<role>:<label>`.  This will use the value of that label for the first related resource in that role.  For example, `"for_each": ["related:flow:prefect.resource.id"]` would evaluate the trigger for each flow. */
	for_each?: string[];
	/** The posture of this trigger, either Reactive or Proactive.  Reactive triggers respond to the _presence_ of the expected events, while Proactive triggers respond to the _absence_ of those expected events. */
	posture: EventTriggerPosture;
	/** The number of events required for this trigger to fire (for Reactive triggers), or the number of events expected (for Proactive triggers) */
	threshold?: number;
	/** The time period over which the events must occur.  For Reactive triggers, this may be as low as 0 seconds, but must be at least 10 seconds for Proactive triggers */
	within?: number;
}
